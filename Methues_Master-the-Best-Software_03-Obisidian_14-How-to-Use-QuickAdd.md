---
创建时间: 2025年05月06日15时56分29秒
知识分类: Master-the-Best-Software
笔记作者: Methues
---
# Methues_Master-the-Best-Software_03-Obisidian_14-乘风掣电：基于 QuickAdd 插件的信息截取模板快速引用

QuickAdd 是 Obsidian 中最热门的第三方插件之一，它将自身可创建的内容分为了四项：Template，Capture，Macro 以及 Multi，对应的具体描述大致如下：
- Template：快速调用模版生成笔记
- Capture：快速在笔记中插入特定内容
- Macro：将一个或者多个上述行为打包成宏命令，一步完成
- Multi：生成一个新的类别，用于给上述三种指令进行分类（只是方便查找，本身没有其他功能）

QuickAdd 的意义在于“捕获闪念”，帮助我们遵循一套固定的信息捕获流程，如臂指使地收集信息并生成新笔记，减少在文档间切换翻动导致的无效操作和注意力耗散，是真正精通 Obsidian 不可获缺的一环。

下面，我们将逐一介绍这四类可创建内容的功能和具体用法，以及 QuickAdd 插件对应的特殊占位符。（还记得之前关于占位符的知识吗？[[Methues_Master-the-Best-Software_03-Obisidian_06-Guide-to-Templates-in-Obsidian#^277481|看这里]]。）

## 调整设置，生成新指令

打开 Obsidian 的设置页面，切换到 QuickAdd 对应的选项卡，我们可以看到对应的页面如下。

![[QuickAdd_生成指令.png]]

创建新的指令只需三步： ^93a8bd
1. 输入新指令的名称
2. 选择新指令的类型（Multi 严格来说不能算指令，不过我们姑且这么表述吧）
3. 完成前两步后，点击“Add Choice”即可完成创建

下面还有几项设置可调整，对应的功能如下：
- Use Multi-line Input Prompt：启用这一选项会允许用户在使用 Quick Add 添加内容时，在输入框中进行多行输入，而不是只能输入单行，适用于需要输入较长内容的情况
- **Template Folder Path**：模版所在路径，**这项是必须设置的**！选中模板笔记所在的文件夹即可
- Announce Updates：推送 QuickAdd 插件的更新信息
- Disable AI & Online fetures：禁用 AI 和在线辅助功能（笔者自己也不太了解这个具体有什么用，但因为不知道有什么用，笔者是选择禁用相应功能的（也就是启用本选项））

## 编辑新指令

完成创建后，我们会看到新的指令已经出现在了清单当中，此时点击右侧齿轮形状的小图标，即可进入指令编辑界面。

我们可以看到除了齿轮，还有几个其他形状的小图标，对应的功能分别如下：
- 小闪电：开启快捷使用
	- 点击后，图标亮起，此时相应指令就可以在 Obsidian 自带的命令面板中被调用了，还可以绑定相应的快捷键
	- 再点击一次，亮起被取消，相应指令从命令面板中消失，快捷键也失效
	- 打开这一选项后，开启命令面板看看吧，一般输入 QuickAdd 就可以在下拉选项中找到相应指令了
- 齿轮：编辑相应指令
- 复制：复制相应指令，直接生成在清单中
- 垃圾桶：删除相应指令
- 三道杠：将鼠标在此处按住，即可拖动相应指令调整排序，如果已经设置了分类，也可以将其添加或者移出分类之中

![[QuickAdd_编辑指令.png]]

下面，我们依次介绍各指令的编辑界面。

### Template：快速调用模版生成笔记

请参考上面的[[#^93a8bd|新指令创建流程]]，选择指令类型为 Template，创建新指令，之后点击小齿轮图标， 进入指令编辑界面，此处以笔者自己的工作日待办清单为例，逐项带各位进行设置。

*下面的内容单纯用文字描述十分枯燥冗长且难以阅读，笔者建议优先看后面的截图，有不明白的再来翻前面的文字讲解，而不必通读*

- Template Path：模板所在路径，这里我们选择相应的模板笔记文件即可
- File Name Format：新生成的笔记名称格式
	- 开启/关闭：是否为新生成的笔记应用预设的名称格式，如果关闭，则会在生成新笔记时弹出输入框，由用户现场输入名称
	- 输入框：在这里输入的名称格式，上方会显示相应名称格式与当前时间对应的预览
	- 笔者希望生成以“当前日期+工作情况后缀（例如，全力以赴）”为名称的笔记，因此开启这一选项，将预设名称输入为｛{date：YYYY年MM月DD日}}，全力以赴
- Create in folder：指定生成新笔记的文件夹
	- 开启/关闭：是否在文件夹中生成新笔记，如果关闭，会在当前 Obsidian 仓库对应的主目录下生成
	- Choose folder when creating a new note：生成新笔记时选择文件夹，如果**开启**此项，会在生成新笔记时，让用户**从当前仓库下所有文件夹中选择**一个作为新笔记的生成位置，如果**关闭**此项，则会允许用户**输入一个或多个文件路径作为备选位置**。
	- 输入框：在这里输入文件夹路径，并点击右侧的 Add 即可添加新的文件夹
		- 只有一个文件夹时，会自动在相应文件夹生成（无需选择）
		- 如果有多个文件夹，会在生成新笔记时让用户手动选择
	- Include subfolders：如果开启此项，会将上面输入的所有文件夹中的子文件夹也作为生成新笔记的备选路径（一旦开启此项，即使上面只有一个文件夹，如果其中包含了子文件夹，那么生成时还是需要手动选择在哪个文件夹中生成）
- Create in same folder as active file：在和“当前活跃的笔记相同的文件夹”中生成新笔记
	- 如果开启此项，会覆盖“Create in folder”相关的选项（相关选项会直接自动隐藏）
- Append link：在当前活跃笔记中插入指向新笔记的链接
- Set default behavior if file already exists：如果指定位置已经存在要创建笔记的同名文件，改为执行相应的预设行为
	- Append to the bottom of the file：打开同名文件，从底端开始输入
	- Append to the top of the file：打开同名文件，从顶端开始输入
	- Increment the file name：添加后缀再生成相应文件（例如已有“5月8日日记”，则会生成“5月8日日记1”）
	- Overwrite the file：覆盖相应文件（旧的同名文件会被删除）
	- Nothing：什么也不做
- Open：立即打开新笔记，后面的下拉选单可以选择以哪种视图打开
	- 开启/关闭：是否立即打开新笔记
	- Source：源码模式
	- Preview：阅读视图
	- Default：实时阅览
- New split：此项只有开启了上面的"Open"（立即打开新笔记）选项才会出现，可以选择是否分屏查看新笔记，后面的下拉选单可以选择以哪种方式分屏
	- 开启/关闭：关闭的话，会在打开新笔记时跳转至新笔记，开启则会进行分屏，在分屏中查看新笔记
	- Vertical：左右分屏
	- Horizontal：上下分屏
- Focus new pane：此项只有开启了上面的"Open"（立即打开新笔记）选项才会出现，可以选择是否立即将新笔记设为活跃笔记（即将“正在编辑”的笔记从创建之前所在的笔记换成新创建的笔记，可以直接往里面输入内容）

![[QuickAdd_Template-1.png]]
![[QuickAdd_Template-2.png]]

不同的模板，使用情景也不尽相同，各位可以根据自己的需求灵活调整。

请注意，在预设名称格式中，我们又见到了熟悉的占位符，除了此处演示的的日期占位符，QuickAdd 中还有一些特殊的占位符可供使用。

### QuickAdd 中的特殊占位符

| Template                                 | Description                                                                                                                                                                                                                    |
| ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `{{DATE}}`                               | 以 YYYY-MM-DD 格式输出当前日期。你可以写 `{{DATE+3}}` 来将日期推迟3天。你也可以使用 `{{DATE+-3}}` 将日期提前 3 天。                                                                                                                                               |
| `{{DATE:<DATEFORMAT>}}`                  | 将 `<DATEFORMAT>` 替换为 Moment.js 的日期格式（也就是可以用 YYYY-MM-DD 以外的格式输出日期，详情请参考[[Methues_Master-the-Best-Software_03-Obisidian_06-Guide-to-Templates-in-Obsidian#占位符与日期自动生成\|占位符与日期自动生成]]）。你同样可以写 `{{DATE:<DATEFORMAT>+3}}` 来将日期推迟 3 天。 |
| `{{VDATE:<variablename>,<date format>}}` | 系统会提示你输入一个日期，并将其解析为指定的日期格式。你可以输入 “today” （今天）或 “in two weeks” （两周后），它会给出对应的日期。它作为变量运行，因此你可以在多个地方使用这个日期。**需要 Natural Language Dates 插件！**                                                                                       |
| `{{VALUE}}` 或 `{{NAME}}`                 | 可以互换使用。会弹出输入框请用户输入一个值来使用。**如果在当前编辑器中选定了文本，它将被用作该值**。                                                                                                                                                                           |
| `{{VALUE:<variable name>}}`              | 你现在可以为输入的值赋予变量名。它们将像值一样被保存和插入，但不同之处在于你可以拥有任意多个变量。使用逗号分隔来获取下拉选单，而不是输入框。                                                                                                                                                         |
| `{{LINKCURRENT}}`                        | 创建一个连接到当前活跃笔记的链接，格式为 `[[link]]`。                                                                                                                                                                                               |
| `{{MACRO:<MACRONAME>}}`                  | 执行一个宏（macro），并将宏的返回值写在这里。                                                                                                                                                                                                      |
| `{{TEMPLATE:<TEMPLATEPATH>}}`            | 用你的其他模板填充占位符所在的位置。支持 Templater 语法。                                                                                                                                                                                             |
| `{{MVALUE}}`                             | 用于编写 LaTeX 的数学模式。按下 **Ctrl+Enter** 提交。                                                                                                                                                                                         |
| `{{selected}}`                           | 将在当前编辑器中选定的文本用作该值，在选定了文本的情况下，和 `{{VALUE}}` 的情况是相同的，和 `{{VALUE}}` 的区别在于，在未选定文本的情况下， `{{VALUE}}` 会弹出输入框让你现场输入内容，而 `{{selected}}` 会直接返回空值。                                                                                        |

不必全部记住，但至少要弄明白 {{VALUE}} 这一占位符的用法，对于捕获信息来讲极其实用！

#### `{{VALUE:<variablename>}}` 的用法演示

以下内容来自 Gemini 的回答，感谢 AI

Q：我在研究 Obsidian 中 QuickAdd 插件涉及的占位符，其中关于 `{{VALUE:<variablename>}}` 的用法有这样一段描述：Use comma separation to get a suggester rather than a prompt。我不理解这里的 suggester 和 prompt 是什么意思，请帮我解释下，用中文解答。

A：你好！别担心，让我来帮你理解 Obsidian QuickAdd 插件中 `{{VALUE:<variablename>}}` 的这个用法。

简单来说，这里的 **prompt** 指的是 QuickAdd 在运行时弹出的一个**文本输入框**，你需要手动在里面填写你想要的值。而 **suggester** 指的是 QuickAdd 在运行时弹出的一个**下拉列表**，里面预先定义了一些选项，你可以直接从列表中选择一个。

##### 不使用逗号分隔 (Prompt)

当你使用 `{{VALUE:<variablename>}}` 并且不在冒号后面提供任何逗号分隔的值时，QuickAdd 会弹出一个简单的文本输入框（prompt）。你需要在这个框中手动输入你想要的值，然后 QuickAdd 会将你输入的值赋给 `<variablename>` 这个变量。

**举个例子：**

假设你的 QuickAdd 宏设置如下：

```
Template: My Daily Note
File name: {{DATE:YYYY-MM-DD}} - {{VALUE:topic}}
```

当你运行这个宏时，QuickAdd 会弹出一个标题为 "topic" 的文本输入框，你需要手动输入今天笔记的主题，比如 "学习 Obsidian"。最终生成的文件名就会是 `2025-05-08 - 学习 Obsidian.md`。

##### 使用逗号分隔 (Suggester)

当你使用 `{{VALUE:<variablename>}}` 并且在冒号后面提供逗号分隔的值时，QuickAdd 不会弹出文本输入框，而是会弹出一个下拉列表（suggester）。列表中的每一项就是你用逗号分隔的值。你可以直接从这个列表中选择一个值，QuickAdd 会将你选择的值赋给 `<variablename>` 这个变量。

**举个例子：**

假设你的 QuickAdd 宏设置如下：

```
- Template: Meeting Notes
  File name: {{DATE:YYYY-MM-DD}} - {{VALUE:meeting_with:张三,李四,王五}}
```

当你运行这个宏时，QuickAdd 会弹出一个下拉列表，里面有三个选项："张三"、"李四" 和 "王五"。你只需要选择其中一个，比如 "李四"。最终生成的文件名就会是 `2025-05-08 - 李四.md`。

##### 总结

- **Prompt (文本输入框):** 让你**自由输入**任何你想要的值。适用于你无法预先确定所有可能选项的情况。
- **Suggester (下拉列表):** 提供**预定义的选项**供你选择。适用于你希望用户从一组固定的选项中选择的情况，可以提高效率和一致性。

希望这个解释能够帮助你理解 QuickAdd 中 `{{VALUE:<variablename>}}` 的用法！如果你还有其他问题，随时可以问我。

### Capture：快速捕获信息

同样参考上面的[[#^93a8bd|新指令创建流程]]，这次我们选择指令类型为 Capture，创建新的 QuickAdd 指令，之后点击小齿轮图标， 进入指令编辑界面。

这次我们假设的使用场景是，我们有一份名为每日速记的笔记模板，用于快速捕获自己觉得有价值的信息，以便回顾时进行整理，捕获信息的格式为时间+内容。

具体的设置如下。（同样的，请优先看截图，不明白的再来看文字说明，不建议直接通读）

- Capture To：设置要捕获信息到哪篇笔记
	- Capture to active file：开启本选项，会捕获信息到当前的活跃笔记
	- File Name：接上一项，若未选中捕获到当前的活跃笔记，则可以输入要捕获到的笔记名称，这里的名称可以使用占位符，QuickAdd 插件会自动识别
	- Create file if it doesn't exist：接上一项，如果设置了要捕获到的笔记名称/名称格式，但是相应名称的笔记还不存在，开启本项会在捕获信息前先创建相应笔记
	- Create file with given template：接上一项，如果要先创建相应笔记，可以给要创建的笔记预设模板
- Task：是否将信息以待办事项的格式捕获
	- 待办事项的格式请见[[Methues_Master-the-Best-Software_03-Obisidian_04-Guide-to-Markdown-Syntax-and-Link-Creation#^30b2f1|任务列表语法]]，简单来说，选中此项后，相应信息会作为一项任务被捕获（在前方插入 `- [ ]` ），便于后续追踪完成情况。
- Write to bottom of file：
	- 开启本选项，会将要捕获的信息插入到笔记末尾
	- 关闭本选项，下面会出现新的选项，可以设置要插入的具体位置
	- 关闭本选项，在下面也没有设置插入信息的具体位置，则默认插入到笔记开头
- Append link：在当前光标位置插入指向捕获信息的链接
- Insert after：
	- 本选项在未选中上面的“Write to bottom of file”的情况下才会出现
	- 可以在下面输入要将捕获内容插入到“什么文本信息之后”，此处可以识别占位符
		- 一般是输入分级标题
		- 不带标题格式的文本也是可以的
		- 如果符合条件的文本信息有多处，会优先选择靠前的位置
		- 如果符合条件的文本信息不存在，会在笔记最低端进行捕获
	- Insert at end of section：
		- 本选项在开启了“Insert after”的情况下才会出现
		- 只有在设置要将内容插入到**分级标题**之后的情况下才能开启
		- 开启本选项会将信息捕获到相应的章节末尾
		- 关闭本选项则默认捕获到相应章节开头
	- Consider subsections：
		- 本选项在开启了“Insert after”的情况下才会出现
		- 将子章节作为当前章节的一部分纳入考量
		- 例如：我们设置的信息插入位置是个二级标题，但是原笔记在下面还有一个三级标题，开启本项会使信息被捕获到三级标题下的内容底端
	- Create line if not found：
		- 本选项在开启了“Insert after”的情况下才会出现
		- 开启本选项后，如果插入位置对应的目标文本不存在，会先创建目标文本
		- 可以选择在笔记的底部/开头/当前输入位置创建目标文本
		- 如果选择在当前输入位置创建，但是捕获信息时并未打开相应笔记，则默认创建在开头
- Open：开启本选项，则捕获信息后立即打开相应笔记
- Capture format：输入要捕获的信息内容，支持占位符
	- 如图中演示的，这里我们希望捕获的内容是“时间：当前选中文本”，相应的占位符就是“ `{{time}}：{{value}}` ”
	- 为了适应 markdown 的换行格式，个人建议，先进行两次换行（此时总共有三行）之后，再在**第二行**输入要捕获的信息内容

![[QuickAdd_Capture-1.png]]
![[QuickAdd_Capture-2.png]]

### Macro：宏：指令结合

现在我们掌握了 Template 和 Capture 的用法，有些读者经过上手可能已经开始发现它们功能中的局限了。

例如，在 Template 的设置界面，我们可以指定在哪个文件夹中生成新笔记，但在 Capture 中，虽然可以自动生成缺失的目标笔记，却无法指定在哪个文件夹下生成，只能生成在当前仓库的根目录下，如果想要保持自己的知识库组织有序，我们后续可能还得进行手动分类。

QuickAdd 会存在类似的功能缺失，其实也是可以理解的，甚至可以说，这在一定程度上是无法避免的，一个已经设置好的功能模块不可能涵盖所有用户无限延伸的需求和想象，而且即使能这么做，出于维持界面简洁，和控制学习成本的考量，也不应该无限制的将一切功能都叠加进来。

不过也别担心，QuickAdd 能够在 Obsidian 的一众插件中脱颖而出，它的适应性和扩展空间自然也是极强的，而这两者之所以存在，很大程度上又要归功于 Macro —— QuickAdd 的第三项功能，如果要给它做一个最简单的介绍，就是类似于其他软件中“宏命令”一样的存在——将多条指令集合打包，作为一个整体保存，后续通过简单操作即可快速调用。

例如，要解决我们上面“希望 Capture 时能在指定文件夹而非根目录下生成笔记”的需求，我们不难想到可以先制作一个“创建每日信息收集笔记”的 Template 指令，再制作一个“捕获信息到每日笔记”的 Capture 指令，两相结合就完成了我们想要的功能。而 Macro 可以帮助我们将这一想法轻松实现。

当然，Macro 的用途还不止于此，让我们打开 Macro 的设置界面，对于懂行的读者来说，相信仅需看一眼就能领会其中的潜力是多么强大。

我们再来创建一次新指令吧，这次选择指令类型为 Macro。

![[QuickAdd_Macro-1.png]]

然后，打开指令编辑界面。

![[QuickAdd_Macro-2.png]]

![[QuickAdd_Macro-3.png]]

![[QuickAdd_Macro-4.png]]

编辑界面如图所示，在 Macro 中，我们不仅可以添加 QuickAdd 自带的指令，还可以添加 Obsidian 内置的命令和编辑器命令，甚至可以添加自己编写的脚本！想想这会带来多夸张的功能扩展！

使用时注意两点：
1. 等待指令，就是上方三个小按钮中的时钟标记，其功能就是字面意义上的，等待一小段时间（一般以100毫秒为最小单位）什么都不做，但这并不是无意义的！等待主要是为了在命令行之间提供缓冲，防止 Macro（尤其是包含指令过多的 Macro）在一瞬间占用太多算力资源，如果你要编辑的 Macro 非常复杂，使用时感觉到了计算机卡顿，那就说明该添加等待指令，将执行步骤适当隔开了。
2. 上方三个小按钮中的“Capture”和“Template”，添加的都是“空白的新指令”，内容是需要从头开始编辑的，如果希望添加已经在 QuickAdd 中编辑好的现成指令，应该使用下方的“Choices”。

![[QuickAdd_Macro-5.png]]

最后，回到 Obsidian 设置页面中 QuickAdd 所在的选项卡，注意在我们给新指令命名的输入栏同一行左边，还有个 “Manage Macros”的按钮，这里是用来给 Obsidian 设置在启动时自动调用的 Macro 的，如果读者打开 Obsidian 之后有固定的操作习惯，可以将其编辑成 Macro 再设置成绑定启动，相关的操作就能在打开 Obsidian 后自动执行了。

![[QuickAdd_开局调用 Macro.png]]

本篇笔记至此已经有些太长了，笔者的经验也有限，再加上不同用户对于 Macro 的使用需求差异其实是极大的，因此就不再多啰嗦了，各位读者不妨从自己的实际需求出发，尝试去将自己常用的一两套重复操作编写出来，在此过程中，一定会有所收获的。

### Multi：指令分类

Multi，简单来说就是指令分类，其使用方法是极其简单的：
1. 参考前面的 QuickAdd 指令添加过程，输入名称，选择类型为 Multi，点击“QuickAdd”，添加完成后，可以看到分类出现在指令列表中
2. 通过将鼠标在指令右侧的三道杠小标记上按住，可以拖动之前已经生成的指令，放入特定的分类（不更换分类的时候，这一操作也可以用来调整排序）
3. 完成分类后，可以通过分类前面的下拉图标收起/打开分类，这样在 QuickAdd 中有大量指令的时候也不用担心设置页面一团混乱了

![[QuickAdd_Multi.png]]

##  调用新指令，绑定快捷键

在经历了如此漫长的学习和编辑之后，我们总算可以开始享受自动化带来的便利了，不过在此之前，别忘了在 Obsidian 设置页面，QuickAdd 所在的选项卡中，点击相应的小闪电，把通过快捷键调用指令的功能开启。

之后，我们可以通过两种简单的方式使用指令。

其一：
1. 打开 Obsidian 命令面板
	- 默认是左上方，竖直排列下来的一串功能按钮中，形状是“`>_`”的那个小图标
	- 通过默认快捷键 `Ctrl+P` 也可打开
2. 如果此时下拉选单中呈现的命令较多，先输入 QuickAdd 即可过滤出与 QuickAdd 相关的命令
3. 点击自己想要执行的命令即可

其二：
1. 打开 Obsidian 设置界面
2. 打开快捷键选项卡
3. 找到自己后续想使用的指令，为其绑定快捷键（一般拉到底部就能找到）
4. 在 Obsidian 中通过快捷键直接调用

一些小 Tips：
1. 用 Ctrl 和单一字母/数字组合是软件中快捷键的常用设计，容易和 Obsidian 快捷键冲突，笔者一般用 Alt 和单一字母/数字组合。
2. 如果自定义的快捷键使用频率不高，怕还没用熟就忘记了，可以在自己的主页做一个“自定义快捷键提示”或者“自定义快捷键速查表”，笔者就是这么干的

Viva the automation！祝各位实践顺利，使用愉快！

## 参考来源

[【从零开始学OB】—— QuickAdd (下) 助力提升笔记效率_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1U94y1W7ba/?spm_id_from=888.80997.embed_other.whitelist&bvid=BV1U94y1W7ba&vd_source=11fb659751af45f55af7d4534b08bf7f)

## 相关文档

所属项目：[[Methues_Master-the-Best-Software_03-Obisidian|实用软件终极指南-03：Obsidian]]

上一篇笔记：[[Methues_Master-the-Best-Software_03-Obisidian_13-Extract-Textual-Information-From-non-Textual-Materials|抽丝剥茧：提取非文本材料中的文本信息]]

下一篇笔记：[[Methues_Master-the-Best-Software_03-Obisidian_15-How-to-Make-Flashcards|披沙拣金：基于 Spaced Reptition 插件的卡片制作与复习流程]]